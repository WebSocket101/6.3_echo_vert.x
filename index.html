<!doctype html>
<html>
<head>
	<title></title>
</head>
<body>
	<h1>vert.x Test</h1>
	<script type="text/javascript">
		var ws = new WebSocket("ws://"+window.location.host);
		ws.onopen = function(event) {
			console.log("Verbindung aufgebaut!");
			ws.send("Hallo!");
		}

		ws.onmessage = function(event) {
			console.log("Eingegangene Nachricht: " + event.data);
			ws.close();
		}

		ws.onerror = function(event) {
			console.log(event.reason);
		}

		ws.onclose = function(event) {
			if(!event.wasClean) {
				console.log("Ein Fehler ist aufgetreten: " + event.code);
				console.log("Der Grund dafuer war: " + event.reason);
			}
			else {
				console.log("Verbindung getrennt!");
			}
		}
	</script>
</body>
</html>